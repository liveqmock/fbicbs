<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cbs.repository.account.maininfo.dao.ActvchMapper">
    <resultMap id="BaseResultMap" type="cbs.repository.account.maininfo.model.Actvch">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        <result column="ORGIDT" jdbcType="VARCHAR" property="orgidt"/>
        <result column="TLRNUM" jdbcType="VARCHAR" property="tlrnum"/>
        <result column="VCHSET" jdbcType="DECIMAL" property="vchset"/>
        <result column="SETSEQ" jdbcType="DECIMAL" property="setseq"/>
        <result column="ORGID2" jdbcType="VARCHAR" property="orgid2"/>
        <result column="PRDCDE" jdbcType="VARCHAR" property="prdcde"/>
        <result column="CRNYER" jdbcType="DECIMAL" property="crnyer"/>
        <result column="PRDSEQ" jdbcType="DECIMAL" property="prdseq"/>
        <result column="FXEFLG" jdbcType="VARCHAR" property="fxeflg"/>
        <result column="ORGID3" jdbcType="VARCHAR" property="orgid3"/>
        <result column="CUSIDT" jdbcType="VARCHAR" property="cusidt"/>
        <result column="APCODE" jdbcType="VARCHAR" property="apcode"/>
        <result column="CURCDE" jdbcType="VARCHAR" property="curcde"/>
        <result column="TXNAMT" jdbcType="DECIMAL" property="txnamt"/>
        <result column="VALDAT" jdbcType="VARCHAR" property="valdat"/>
        <result column="RVSLBL" jdbcType="VARCHAR" property="rvslbl"/>
        <result column="ANACDE" jdbcType="VARCHAR" property="anacde"/>
        <result column="FURINF" jdbcType="VARCHAR" property="furinf"/>
        <result column="FXRATE" jdbcType="DECIMAL" property="fxrate"/>
        <result column="SECCCY" jdbcType="VARCHAR" property="secccy"/>
        <result column="SECAMT" jdbcType="DECIMAL" property="secamt"/>
        <result column="CORAPC" jdbcType="VARCHAR" property="corapc"/>
        <result column="VCHATT" jdbcType="DECIMAL" property="vchatt"/>
        <result column="THRREF" jdbcType="VARCHAR" property="thrref"/>
        <result column="VCHAUT" jdbcType="VARCHAR" property="vchaut"/>
        <result column="VCHANO" jdbcType="VARCHAR" property="vchano"/>
        <result column="DEPNUM" jdbcType="VARCHAR" property="depnum"/>
        <result column="TXNBAK" jdbcType="VARCHAR" property="txnbak"/>
        <result column="ACTBAK" jdbcType="VARCHAR" property="actbak"/>
        <result column="CLRBAK" jdbcType="VARCHAR" property="clrbak"/>
        <result column="ORGID4" jdbcType="VARCHAR" property="orgid4"/>
        <result column="ERYTYP" jdbcType="VARCHAR" property="erytyp"/>
        <result column="ERYDAT" jdbcType="VARCHAR" property="erydat"/>
        <result column="ERYTIM" jdbcType="VARCHAR" property="erytim"/>
        <result column="RECSTS" jdbcType="VARCHAR" property="recsts"/>
    </resultMap>
    <sql id="Example_Where_Clause">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        <where>
            <foreach collection="oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Update_By_Example_Where_Clause">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        <where>
            <foreach collection="example.oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        ORGIDT, TLRNUM, VCHSET, SETSEQ, ORGID2, PRDCDE, CRNYER, PRDSEQ, FXEFLG, ORGID3, CUSIDT,
        APCODE, CURCDE, TXNAMT, VALDAT, RVSLBL, ANACDE, FURINF, FXRATE, SECCCY, SECAMT, CORAPC,
        VCHATT, THRREF, VCHAUT, VCHANO, DEPNUM, TXNBAK, ACTBAK, CLRBAK, ORGID4, ERYTYP, ERYDAT,
        ERYTIM, RECSTS
    </sql>
    <select id="selectByExample" parameterType="cbs.repository.account.maininfo.model.ActvchExample"
            resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        select
        <if test="distinct">
            distinct
        </if>
        <include refid="Base_Column_List"/>
        from ACTVCH
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <delete id="deleteByExample" parameterType="cbs.repository.account.maininfo.model.ActvchExample">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        delete from ACTVCH
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </delete>
    <insert id="insert" parameterType="cbs.repository.account.maininfo.model.Actvch">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        insert into ACTVCH (ORGIDT, TLRNUM, VCHSET,
        SETSEQ, ORGID2, PRDCDE,
        CRNYER, PRDSEQ, FXEFLG,
        ORGID3, CUSIDT, APCODE,
        CURCDE, TXNAMT, VALDAT,
        RVSLBL, ANACDE, FURINF,
        FXRATE, SECCCY, SECAMT,
        CORAPC, VCHATT, THRREF,
        VCHAUT, VCHANO, DEPNUM,
        TXNBAK, ACTBAK, CLRBAK,
        ORGID4, ERYTYP, ERYDAT,
        ERYTIM, RECSTS)
        values (#{orgidt,jdbcType=VARCHAR}, #{tlrnum,jdbcType=VARCHAR}, #{vchset,jdbcType=DECIMAL},
        #{setseq,jdbcType=DECIMAL}, #{orgid2,jdbcType=VARCHAR}, #{prdcde,jdbcType=VARCHAR},
        #{crnyer,jdbcType=DECIMAL}, #{prdseq,jdbcType=DECIMAL}, #{fxeflg,jdbcType=VARCHAR},
        #{orgid3,jdbcType=VARCHAR}, #{cusidt,jdbcType=VARCHAR}, #{apcode,jdbcType=VARCHAR},
        #{curcde,jdbcType=VARCHAR}, #{txnamt,jdbcType=DECIMAL}, #{valdat,jdbcType=VARCHAR},
        #{rvslbl,jdbcType=VARCHAR}, #{anacde,jdbcType=VARCHAR}, #{furinf,jdbcType=VARCHAR},
        #{fxrate,jdbcType=DECIMAL}, #{secccy,jdbcType=VARCHAR}, #{secamt,jdbcType=DECIMAL},
        #{corapc,jdbcType=VARCHAR}, #{vchatt,jdbcType=DECIMAL}, #{thrref,jdbcType=VARCHAR},
        #{vchaut,jdbcType=VARCHAR}, #{vchano,jdbcType=VARCHAR}, #{depnum,jdbcType=VARCHAR},
        #{txnbak,jdbcType=VARCHAR}, #{actbak,jdbcType=VARCHAR}, #{clrbak,jdbcType=VARCHAR},
        #{orgid4,jdbcType=VARCHAR}, #{erytyp,jdbcType=VARCHAR}, #{erydat,jdbcType=VARCHAR},
        #{erytim,jdbcType=VARCHAR}, #{recsts,jdbcType=VARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="cbs.repository.account.maininfo.model.Actvch">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        insert into ACTVCH
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="orgidt != null">
                ORGIDT,
            </if>
            <if test="tlrnum != null">
                TLRNUM,
            </if>
            <if test="vchset != null">
                VCHSET,
            </if>
            <if test="setseq != null">
                SETSEQ,
            </if>
            <if test="orgid2 != null">
                ORGID2,
            </if>
            <if test="prdcde != null">
                PRDCDE,
            </if>
            <if test="crnyer != null">
                CRNYER,
            </if>
            <if test="prdseq != null">
                PRDSEQ,
            </if>
            <if test="fxeflg != null">
                FXEFLG,
            </if>
            <if test="orgid3 != null">
                ORGID3,
            </if>
            <if test="cusidt != null">
                CUSIDT,
            </if>
            <if test="apcode != null">
                APCODE,
            </if>
            <if test="curcde != null">
                CURCDE,
            </if>
            <if test="txnamt != null">
                TXNAMT,
            </if>
            <if test="valdat != null">
                VALDAT,
            </if>
            <if test="rvslbl != null">
                RVSLBL,
            </if>
            <if test="anacde != null">
                ANACDE,
            </if>
            <if test="furinf != null">
                FURINF,
            </if>
            <if test="fxrate != null">
                FXRATE,
            </if>
            <if test="secccy != null">
                SECCCY,
            </if>
            <if test="secamt != null">
                SECAMT,
            </if>
            <if test="corapc != null">
                CORAPC,
            </if>
            <if test="vchatt != null">
                VCHATT,
            </if>
            <if test="thrref != null">
                THRREF,
            </if>
            <if test="vchaut != null">
                VCHAUT,
            </if>
            <if test="vchano != null">
                VCHANO,
            </if>
            <if test="depnum != null">
                DEPNUM,
            </if>
            <if test="txnbak != null">
                TXNBAK,
            </if>
            <if test="actbak != null">
                ACTBAK,
            </if>
            <if test="clrbak != null">
                CLRBAK,
            </if>
            <if test="orgid4 != null">
                ORGID4,
            </if>
            <if test="erytyp != null">
                ERYTYP,
            </if>
            <if test="erydat != null">
                ERYDAT,
            </if>
            <if test="erytim != null">
                ERYTIM,
            </if>
            <if test="recsts != null">
                RECSTS,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="orgidt != null">
                #{orgidt,jdbcType=VARCHAR},
            </if>
            <if test="tlrnum != null">
                #{tlrnum,jdbcType=VARCHAR},
            </if>
            <if test="vchset != null">
                #{vchset,jdbcType=DECIMAL},
            </if>
            <if test="setseq != null">
                #{setseq,jdbcType=DECIMAL},
            </if>
            <if test="orgid2 != null">
                #{orgid2,jdbcType=VARCHAR},
            </if>
            <if test="prdcde != null">
                #{prdcde,jdbcType=VARCHAR},
            </if>
            <if test="crnyer != null">
                #{crnyer,jdbcType=DECIMAL},
            </if>
            <if test="prdseq != null">
                #{prdseq,jdbcType=DECIMAL},
            </if>
            <if test="fxeflg != null">
                #{fxeflg,jdbcType=VARCHAR},
            </if>
            <if test="orgid3 != null">
                #{orgid3,jdbcType=VARCHAR},
            </if>
            <if test="cusidt != null">
                #{cusidt,jdbcType=VARCHAR},
            </if>
            <if test="apcode != null">
                #{apcode,jdbcType=VARCHAR},
            </if>
            <if test="curcde != null">
                #{curcde,jdbcType=VARCHAR},
            </if>
            <if test="txnamt != null">
                #{txnamt,jdbcType=DECIMAL},
            </if>
            <if test="valdat != null">
                #{valdat,jdbcType=VARCHAR},
            </if>
            <if test="rvslbl != null">
                #{rvslbl,jdbcType=VARCHAR},
            </if>
            <if test="anacde != null">
                #{anacde,jdbcType=VARCHAR},
            </if>
            <if test="furinf != null">
                #{furinf,jdbcType=VARCHAR},
            </if>
            <if test="fxrate != null">
                #{fxrate,jdbcType=DECIMAL},
            </if>
            <if test="secccy != null">
                #{secccy,jdbcType=VARCHAR},
            </if>
            <if test="secamt != null">
                #{secamt,jdbcType=DECIMAL},
            </if>
            <if test="corapc != null">
                #{corapc,jdbcType=VARCHAR},
            </if>
            <if test="vchatt != null">
                #{vchatt,jdbcType=DECIMAL},
            </if>
            <if test="thrref != null">
                #{thrref,jdbcType=VARCHAR},
            </if>
            <if test="vchaut != null">
                #{vchaut,jdbcType=VARCHAR},
            </if>
            <if test="vchano != null">
                #{vchano,jdbcType=VARCHAR},
            </if>
            <if test="depnum != null">
                #{depnum,jdbcType=VARCHAR},
            </if>
            <if test="txnbak != null">
                #{txnbak,jdbcType=VARCHAR},
            </if>
            <if test="actbak != null">
                #{actbak,jdbcType=VARCHAR},
            </if>
            <if test="clrbak != null">
                #{clrbak,jdbcType=VARCHAR},
            </if>
            <if test="orgid4 != null">
                #{orgid4,jdbcType=VARCHAR},
            </if>
            <if test="erytyp != null">
                #{erytyp,jdbcType=VARCHAR},
            </if>
            <if test="erydat != null">
                #{erydat,jdbcType=VARCHAR},
            </if>
            <if test="erytim != null">
                #{erytim,jdbcType=VARCHAR},
            </if>
            <if test="recsts != null">
                #{recsts,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <select id="countByExample" parameterType="cbs.repository.account.maininfo.model.ActvchExample"
            resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        select count(*) from ACTVCH
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </select>
    <update id="updateByExampleSelective" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        update ACTVCH
        <set>
            <if test="record.orgidt != null">
                ORGIDT = #{record.orgidt,jdbcType=VARCHAR},
            </if>
            <if test="record.tlrnum != null">
                TLRNUM = #{record.tlrnum,jdbcType=VARCHAR},
            </if>
            <if test="record.vchset != null">
                VCHSET = #{record.vchset,jdbcType=DECIMAL},
            </if>
            <if test="record.setseq != null">
                SETSEQ = #{record.setseq,jdbcType=DECIMAL},
            </if>
            <if test="record.orgid2 != null">
                ORGID2 = #{record.orgid2,jdbcType=VARCHAR},
            </if>
            <if test="record.prdcde != null">
                PRDCDE = #{record.prdcde,jdbcType=VARCHAR},
            </if>
            <if test="record.crnyer != null">
                CRNYER = #{record.crnyer,jdbcType=DECIMAL},
            </if>
            <if test="record.prdseq != null">
                PRDSEQ = #{record.prdseq,jdbcType=DECIMAL},
            </if>
            <if test="record.fxeflg != null">
                FXEFLG = #{record.fxeflg,jdbcType=VARCHAR},
            </if>
            <if test="record.orgid3 != null">
                ORGID3 = #{record.orgid3,jdbcType=VARCHAR},
            </if>
            <if test="record.cusidt != null">
                CUSIDT = #{record.cusidt,jdbcType=VARCHAR},
            </if>
            <if test="record.apcode != null">
                APCODE = #{record.apcode,jdbcType=VARCHAR},
            </if>
            <if test="record.curcde != null">
                CURCDE = #{record.curcde,jdbcType=VARCHAR},
            </if>
            <if test="record.txnamt != null">
                TXNAMT = #{record.txnamt,jdbcType=DECIMAL},
            </if>
            <if test="record.valdat != null">
                VALDAT = #{record.valdat,jdbcType=VARCHAR},
            </if>
            <if test="record.rvslbl != null">
                RVSLBL = #{record.rvslbl,jdbcType=VARCHAR},
            </if>
            <if test="record.anacde != null">
                ANACDE = #{record.anacde,jdbcType=VARCHAR},
            </if>
            <if test="record.furinf != null">
                FURINF = #{record.furinf,jdbcType=VARCHAR},
            </if>
            <if test="record.fxrate != null">
                FXRATE = #{record.fxrate,jdbcType=DECIMAL},
            </if>
            <if test="record.secccy != null">
                SECCCY = #{record.secccy,jdbcType=VARCHAR},
            </if>
            <if test="record.secamt != null">
                SECAMT = #{record.secamt,jdbcType=DECIMAL},
            </if>
            <if test="record.corapc != null">
                CORAPC = #{record.corapc,jdbcType=VARCHAR},
            </if>
            <if test="record.vchatt != null">
                VCHATT = #{record.vchatt,jdbcType=DECIMAL},
            </if>
            <if test="record.thrref != null">
                THRREF = #{record.thrref,jdbcType=VARCHAR},
            </if>
            <if test="record.vchaut != null">
                VCHAUT = #{record.vchaut,jdbcType=VARCHAR},
            </if>
            <if test="record.vchano != null">
                VCHANO = #{record.vchano,jdbcType=VARCHAR},
            </if>
            <if test="record.depnum != null">
                DEPNUM = #{record.depnum,jdbcType=VARCHAR},
            </if>
            <if test="record.txnbak != null">
                TXNBAK = #{record.txnbak,jdbcType=VARCHAR},
            </if>
            <if test="record.actbak != null">
                ACTBAK = #{record.actbak,jdbcType=VARCHAR},
            </if>
            <if test="record.clrbak != null">
                CLRBAK = #{record.clrbak,jdbcType=VARCHAR},
            </if>
            <if test="record.orgid4 != null">
                ORGID4 = #{record.orgid4,jdbcType=VARCHAR},
            </if>
            <if test="record.erytyp != null">
                ERYTYP = #{record.erytyp,jdbcType=VARCHAR},
            </if>
            <if test="record.erydat != null">
                ERYDAT = #{record.erydat,jdbcType=VARCHAR},
            </if>
            <if test="record.erytim != null">
                ERYTIM = #{record.erytim,jdbcType=VARCHAR},
            </if>
            <if test="record.recsts != null">
                RECSTS = #{record.recsts,jdbcType=VARCHAR},
            </if>
        </set>
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByExample" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Sun Nov 21 21:36:05 CST 2010.
        -->
        update ACTVCH
        set ORGIDT = #{record.orgidt,jdbcType=VARCHAR},
        TLRNUM = #{record.tlrnum,jdbcType=VARCHAR},
        VCHSET = #{record.vchset,jdbcType=DECIMAL},
        SETSEQ = #{record.setseq,jdbcType=DECIMAL},
        ORGID2 = #{record.orgid2,jdbcType=VARCHAR},
        PRDCDE = #{record.prdcde,jdbcType=VARCHAR},
        CRNYER = #{record.crnyer,jdbcType=DECIMAL},
        PRDSEQ = #{record.prdseq,jdbcType=DECIMAL},
        FXEFLG = #{record.fxeflg,jdbcType=VARCHAR},
        ORGID3 = #{record.orgid3,jdbcType=VARCHAR},
        CUSIDT = #{record.cusidt,jdbcType=VARCHAR},
        APCODE = #{record.apcode,jdbcType=VARCHAR},
        CURCDE = #{record.curcde,jdbcType=VARCHAR},
        TXNAMT = #{record.txnamt,jdbcType=DECIMAL},
        VALDAT = #{record.valdat,jdbcType=VARCHAR},
        RVSLBL = #{record.rvslbl,jdbcType=VARCHAR},
        ANACDE = #{record.anacde,jdbcType=VARCHAR},
        FURINF = #{record.furinf,jdbcType=VARCHAR},
        FXRATE = #{record.fxrate,jdbcType=DECIMAL},
        SECCCY = #{record.secccy,jdbcType=VARCHAR},
        SECAMT = #{record.secamt,jdbcType=DECIMAL},
        CORAPC = #{record.corapc,jdbcType=VARCHAR},
        VCHATT = #{record.vchatt,jdbcType=DECIMAL},
        THRREF = #{record.thrref,jdbcType=VARCHAR},
        VCHAUT = #{record.vchaut,jdbcType=VARCHAR},
        VCHANO = #{record.vchano,jdbcType=VARCHAR},
        DEPNUM = #{record.depnum,jdbcType=VARCHAR},
        TXNBAK = #{record.txnbak,jdbcType=VARCHAR},
        ACTBAK = #{record.actbak,jdbcType=VARCHAR},
        CLRBAK = #{record.clrbak,jdbcType=VARCHAR},
        ORGID4 = #{record.orgid4,jdbcType=VARCHAR},
        ERYTYP = #{record.erytyp,jdbcType=VARCHAR},
        ERYDAT = #{record.erydat,jdbcType=VARCHAR},
        ERYTIM = #{record.erytim,jdbcType=VARCHAR},
        RECSTS = #{record.recsts,jdbcType=VARCHAR}
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <resultMap id="ActvchResultMap" type="cbs.repository.account.ext.domain.ActvchModel">
        <result column="TLRNUM" jdbcType="VARCHAR" property="tlrnum"/>
        <result column="VCHSET" jdbcType="VARCHAR" property="vchset"/>
        <result column="SETSEQ" jdbcType="VARCHAR" property="setseq"/>
        <result column="BROLEN" jdbcType="VARCHAR" property="borlen"/>
        <result column="OLDACN" jdbcType="VARCHAR" property="accode"/>
        <result column="CUSIDT" jdbcType="VARCHAR" property="cusidt"/>
        <result column="GLCODE" jdbcType="VARCHAR" property="glcode"/>
        <result column="APCODE" jdbcType="VARCHAR" property="apcode"/>
        <result column="CURCDE" jdbcType="VARCHAR" property="curcde"/>
        <result column="TXNAMT" jdbcType="DECIMAL" property="txnamt"/>
        <result column="RVSLBL" jdbcType="VARCHAR" property="rvslbl"/>
        <result column="FURINF" jdbcType="VARCHAR" property="furinf"/>
        <result column="ERYTIM" jdbcType="VARCHAR" property="erytim"/>
    </resultMap>
    <select id="selectByCondition" resultMap="ActvchResultMap">
        select vch.tlrnum,vch.vchset,vch.setseq,vch.cusidt,vch.txnamt as borlen,
        ani.oldacn,substr(vch.apcode,0,3) as glcode,vch.apcode,vch.curcde,
        vch.txnamt,vch.rvslbl,vch.anacde,vch.furinf,vch.erytim,vch.clrbak
        from actvch vch
        join actani ani
        on vch.cusidt = ani.cusidt
        and vch.apcode = ani.apcode
        and vch.curcde = ani.curcde
        where vch.recsts = ' '
        <if test="tlrnum != null">
            and tlrnum = #{tlrnum}
        </if>
        <if test="cusidt != null">
            and vch.cusidt = #{cusidt}
        </if>
        <if test="vchset != null">
            and vchset = #{vchset}
        </if>
        <if test="apcode != null">
            and vch.apcode = #{apcode}
        </if>
        <if test="glcode != null">
            and vch.apcode like CONCAT(#{glcode},'%')
        </if>
        <if test="curcde != null">
            and vch.curcde = #{curcde}
        </if>
        <if test="txnamt != null">
            and txnamt = #{txnamt}
        </if>
        <if test="accode != null">
            and trim(oldacn) = #{accode}
        </if>
        <if test="borlen == 0">
            and 0 > vch.txnamt
        </if>
        <if test="borlen == 1">
            and vch.txnamt > 0
        </if>
        <if test="minamt != null">
            and vch.txnamt >= #{minamt}
        </if>
        <if test="maxamt != null">
            and  #{maxamt} >= vch.txnamt
        </if>

        order by tlrnum,vchset,setseq
    </select>
    <resultMap id="ActvchResult2Map" type="cbs.repository.account.maininfo.model.ActvchForGlDRpt">
        <result column="ORGID3" jdbcType="VARCHAR" property="orgid3"/>
        <result column="APCODE" jdbcType="VARCHAR" property="apcode"/>
        <result column="CURCDE" jdbcType="VARCHAR" property="curcde"/>
        <result column="RVSLBL" jdbcType="VARCHAR" property="rvslbl"/>
        <result column="DAMT" jdbcType="DECIMAL" property="damt"/>
        <result column="CAMT" jdbcType="DECIMAL" property="camt"/>
        <result column="DCUNT" jdbcType="DECIMAL" property="dcunt"/>
        <result column="CCUNT" jdbcType="DECIMAL" property="ccunt"/>
        <result column="GLCNAM" jdbcType="VARCHAR" property="glcnam"/>
        <result column="GLCODE" jdbcType="VARCHAR" property="glcode"/>
        <result column="CURNMC" jdbcType="CHAR" property="curnmc"/>
    </resultMap>
    <select id="selectForGlDRpt" resultMap="ActvchResult2Map">
        <![CDATA[
        SELECT ORGID3,
               VCH.CURCDE,
               VCH.APCODE,
               DECODE(RVSLBL, 'C', '1', '2') as RVSLBL,
               SUM((TXNAMT - ABS(TXNAMT)) / 2 * DECODE(RVSLBL, '*', -1, 1)) as DAMT,
               SUM((TXNAMT + ABS(TXNAMT)) / 2 * DECODE(RVSLBL, '*', -1, 1)) as CAMT,
               SUM(DECODE(SIGN(TXNAMT), -1, 1, 0)) as DCUNT,
               SUM(DECODE(SIGN(TXNAMT), 1, 1, 0)) as CCUNT
               ,GLC.GLCNAM
               ,APC.GLCODE
          FROM ACTVCH VCH
               JOIN ACTAPC APC ON
               VCH.APCODE=APC.APCODE
               JOIN ACTGLC GLC ON
               APC.GLCODE=GLC.GLCODE
        WHERE VCH.RECSTS = ' '
           AND ORGID3 = #{orgidt}
           AND VCH.CURCDE = #{curcde}
           AND GLC.GLCODE = #{glcode}
        GROUP BY ORGID3, CURCDE, VCH.APCODE, DECODE(RVSLBL, 'C', '1', '2')
         ,GLC.GLCNAM,APC.GLCODE
        ORDER BY DECODE(RVSLBL, 'C', '1', '2')
       ]]>

    </select>
    <select id="selectForGlCur" resultMap="ActvchResult2Map">
        <![CDATA[
                SELECT DISTINCT
                    GLC.GLCODE,
                    GLC.GLCNAM,
                    VCH.CURCDE,
                    CCY.CURNMC

                FROM ACTVCH VCH JOIN ACTAPC APC ON
                     VCH.APCODE=APC.APCODE
                     JOIN ACTGLC GLC ON
                     APC.GLCODE=GLC.GLCODE
                     JOIN ACTCCY CCY ON
                     VCH.CURCDE=CCY.CURCDE
                WHERE VCH.RECSTS = ' '
                    AND VCH.ORGIDT=#{orgidt}
                ORDER BY GLC.GLCODE
                ]]>
    </select>

    <!-- ======================================  -->
    <!--zhanrui 20110302  for 联机记帐复核交易 -->
    <resultMap id="BatchBookReviewResultMap" type="cbs.repository.account.ext.domain.BatchBookReviewVO">
        <result column="ORGIDT" jdbcType="VARCHAR" property="orgidt"/>
        <result column="TLRNUM" jdbcType="VARCHAR" property="tlrnum"/>
        <result column="VCHSET" jdbcType="DECIMAL" property="vchset"/>
        <result column="SETSEQ" jdbcType="DECIMAL" property="setseq"/>

        <result column="ACTNO" jdbcType="VARCHAR" property="actno"/>

        <result column="TXNAMT" jdbcType="DECIMAL" property="txnamt"/>
        <result column="VALDAT" jdbcType="VARCHAR" property="valdat"/>
        <result column="RVSLBL" jdbcType="VARCHAR" property="rvslbl"/>
        <result column="ANACDE" jdbcType="VARCHAR" property="anacde"/>
        <result column="FURINF" jdbcType="VARCHAR" property="furinf"/>

        <result column="VCHATT" jdbcType="DECIMAL" property="vchatt"/>

        <result column="ACTNAM" jdbcType="VARCHAR" property="actnam"/>
    </resultMap>

    <!--查询待复核的记录 -->
    <select id="selectNeedReviewRecords" resultMap="BatchBookReviewResultMap">
        SELECT  A.TLRNUM, A.VCHSET,A.SETSEQ,
                A.CUSIDT, A.APCODE, A.CURCDE,
                C.OLDACN AS ACTNO,
                A.RVSLBL AS TYPE,
                A.TXNAMT,
                A.VALDAT,A.ANACDE,A.FURINF,A.VCHATT,A.CLRBAK,A.RECSTS,
                B.ACTNAM
        FROM
           (SELECT
            <include refid="Base_Column_List"/>
              FROM ACTVCH
            WHERE ORGIDT=#{orgidt}
              AND TLRNUM=#{tlrnum}
        <if test="vchset != 0">
              AND VCHSET=#{vchset}
        </if>
              AND CLRBAK != '1'
              AND RECSTS = ' '
            ORDER BY VCHSET,SETSEQ ) A, ACTOAC B, ACTANI C
       WHERE
                B.ORGIDT = A.ORGIDT
            AND B.CUSIDT = A.CUSIDT
            AND B.APCODE = A.APCODE
            AND B.CURCDE = A.CURCDE
            AND C.SYSIDT = #{sysidt}
            AND C.ORGIDT = A.ORGIDT
            AND C.CUSIDT = A.CUSIDT
            AND C.APCODE = A.APCODE
            AND C.CURCDE = A.CURCDE
    </select>
    <!--查询已复核的记录 -->
    <select id="selectReviewedRecords" resultMap="BatchBookReviewResultMap">
        SELECT  A.TLRNUM, A.VCHSET,A.SETSEQ,
                A.CUSIDT, A.APCODE, A.CURCDE,
                C.OLDACN AS ACTNO,
                A.RVSLBL AS TYPE,
                A.TXNAMT,
                A.VALDAT,A.ANACDE,A.FURINF,A.VCHATT,A.CLRBAK,A.RECSTS,
                B.ACTNAM
        FROM
           (SELECT
            <include refid="Base_Column_List"/>
              FROM ACTVCH
            WHERE ORGIDT=#{orgidt}
              AND TLRNUM=#{tlrnum}
        <if test="vchset != 0">
              AND VCHSET=#{vchset}
        </if>
              AND CLRBAK = '1'
              AND RECSTS = ' '
            ORDER BY VCHSET,SETSEQ ) A, ACTOAC B, ACTANI C
       WHERE
                B.ORGIDT = A.ORGIDT
            AND B.CUSIDT = A.CUSIDT
            AND B.APCODE = A.APCODE
            AND B.CURCDE = A.CURCDE
            AND C.SYSIDT = #{sysidt}
            AND C.ORGIDT = A.ORGIDT
            AND C.CUSIDT = A.CUSIDT
            AND C.APCODE = A.APCODE
            AND C.CURCDE = A.CURCDE
    </select>

    <!--复核传票-->
    <select id="reviewRecord" resultMap="BaseResultMap">
        SELECT
            <include refid="Base_Column_List"/>
            FROM ACTVCH
        WHERE ORGIDT = #{record.orgidt}
              AND TLRNUM = #{record.tlrnum}
              AND VCHSET = #{record.vchset}
              AND CLRBAK = ' '
              AND RECSTS = ' '
              AND CUSIDT = #{record.cusidt}
              AND APCODE = #{record.apcode}
              AND CURCDE = #{record.curcde}
              AND RVSLBL = #{record.rvslbl}
              AND TXNAMT = #{record.txnamt}
              AND VALDAT = #{record.valdat}
              AND ANACDE = #{record.anacde}
              AND FURINF = #{record.furinf}
              AND VCHATT = #{record.vchatt}
        ORDER BY SETSEQ
    </select>
    <!-- ======================================  -->

</mapper>