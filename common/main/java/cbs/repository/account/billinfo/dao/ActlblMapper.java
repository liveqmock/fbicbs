package cbs.repository.account.billinfo.dao;

import cbs.repository.account.billinfo.model.Actlbl;
import cbs.repository.account.billinfo.model.ActlblExample;
import java.util.List;

import cbs.repository.account.maininfo.model.Actoac;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Update;

public interface ActlblMapper {
    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table ACTLBL
     *
     * @mbggenerated Sun Nov 21 21:36:05 CST 2010
     */
    int countByExample(ActlblExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table ACTLBL
     *
     * @mbggenerated Sun Nov 21 21:36:05 CST 2010
     */
    int deleteByExample(ActlblExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table ACTLBL
     *
     * @mbggenerated Sun Nov 21 21:36:05 CST 2010
     */
    int insert(Actlbl record);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table ACTLBL
     *
     * @mbggenerated Sun Nov 21 21:36:05 CST 2010
     */
    int insertSelective(Actlbl record);

    /*
    * createBy: haiyuhuang
    * createDate: 2011-02-11*/
    @Insert(" INSERT INTO ACTLBL" +
            "   ( SYSIDT,          ORGIDT,         CUSIDT," +
            "    APCODE,          CURCDE,         SECCCY," +
            "    OLDACN,          ACTNAM,         LEGBAL," +
            "    SECLBL,          NLEGLL,         NLEGNY," +
            "    NLEGPG,          LEGPLN," +
            "    LEGCYC,          LEGCDT,         LEGFMT," +
            "    LEGSHT,          LEGDEP,         LEGADD," +
            "    LEGZIP,          FSTPAG,         RECSTS) " +
            " SELECT " +
            "    ACTFXE.SYSIDT,   ACTFXE.ORGIDT,  ACTFXE.CUSIDT," +
            "    ACTFXE.APCODE,   ACTFXE.CURCDE,  ACTFXE.SECCCY," +
            "    #{oldacn},       #{actnam},      ACTFXE.AVABAL," +
            "    ACTFX2.AVABAL,    0,             wkYear" +
            "    1,                1," +
            "    #{legcyc},       #{legcdt},      #{legfmt}" +
            "    #{legsht},       #{legdep},      #{legadd}" +
            "    #{legzip},       'Y',            ACTFXE.RECSTS" +
            " FROM ACTFXE,ACTFXE ACTFX2 " +
            " WHERE ACTFXE.SYSIDT = #{sysidt}" +
            "  AND ACTFX2.SYSIDT = #{sysidt}" +
            "  AND ACTFXE.RECSTS = #{recsts}" +
            "  AND ACTFX2.RECSTS = #{recsts}" +
            "  AND ACTFXE.ORGIDT = #{orgidt}" +
            "  AND ACTFX2.ORGIDT = #{orgidt}" +
            "  AND ACTFXE.CUSIDT = #{cusidt}" +
            "  AND ACTFX2.CUSIDT = #{cusidt}" +
            "  AND ACTFXE.APCODE = #{apcode}" +
            "  AND ACTFX2.APCODE = #{apcode}" +
            "  AND ACTFXE.CURCDE = #{curcde}" +
            "  AND ACTFX2.SECCCY = #{curcde}" +
            "  AND ACTFXE.SECCCY =  ACTFX2.CURCDE")
    int insertFromFXE(@Param("oldacn") String oldacn,@Param("actnam") String actnam,@Param("wkYear") int wkYear,
                      @Param("legcyc") String legcyc,@Param("legcdt") String legcdt,@Param("legfmt") String legfmt,
                      @Param("legsht") short legsht,@Param("legdep") String legdep,@Param("legadd") String legadd,
                      @Param("legzip") String legzip,@Param("sysidt") String sysidt,@Param("recsts") String recsts,
                      @Param("orgidt") String orgidt,@Param("cusidt") String cusidt,@Param("apcode") String apcode,
                      @Param("curcde") String curcde);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table ACTLBL
     *
     * @mbggenerated Sun Nov 21 21:36:05 CST 2010
     */
    List<Actlbl> selectByExample(ActlblExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table ACTLBL
     *
     * @mbggenerated Sun Nov 21 21:36:05 CST 2010
     */
    int updateByExampleSelective(@Param("record") Actlbl record, @Param("example") ActlblExample example);

    /**
     * This method was generated by MyBatis Generator.
     * This method corresponds to the database table ACTLBL
     *
     * @mbggenerated Sun Nov 21 21:36:05 CST 2010
     */
    int updateByExample(@Param("record") Actlbl record, @Param("example") ActlblExample example);

    /*
    * createBy: haiyuhuang
    * createDate: 2011-02-12*/
    @Update(" UPDATE ACTLBL" +
            " SET    LEGBAL = (" +
            " SELECT NVL(AVABAL,0) " +
            "    FROM ACTFXE" +
            "    WHERE SYSIDT = #{sysidt}" +
            "     AND ORGIDT = #{orgidt}" +
            "     AND CUSIDT = #{cusidt}" +
            "     AND APCODE = #{apcode}" +
            "     AND CURCDE = #{curcde}" +
            "     AND ACTFXE.SECCCY = ACTLBL.SECCCY)" +
            " WHERE SYSIDT = #{sysidt}" +
            "     AND ORGIDT = #{orgidt}" +
            "     AND CUSIDT = #{cusidt}" +
            "     AND APCODE = #{apcode}" +
            "     AND CURCDE = #{curcde}" +
            "     AND SECCCY <> '   '" )
    int updateLegbal(@Param("sysidt") String sysidt,@Param("orgidt") String orgidt,@Param("cusidt") String cusidt,
                     @Param("apcode") String apcode,@Param("curcde") String curcde);
}